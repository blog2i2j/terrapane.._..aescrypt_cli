# This file facilitates creation of package files for OS installation
if(aescrypt_cli_INSTALL)
    if(LINUX OR APPLE)
        include(InstallRequiredSystemLibraries)
        set(CPACK_PACKAGE_NAME "aescrypt_cli")
        set(CPACK_PACKAGE_DESCRIPTION_SUMMARY "${PROJECT_DESCRIPTION}")
        set(CPACK_PACKAGE_DESCRIPTION_FILE "${CMAKE_CURRENT_SOURCE_DIR}/description.txt")
        set(CPACK_PACKAGE_VENDOR "Terrapane Corporation")
        set(CPACK_PACKAGE_CONTACT "support@terrapane.com")
        set(CPACK_RESOURCE_FILE_LICENSE "${PROJECT_SOURCE_DIR}/LICENSE.md")
        set(CPACK_PACKAGE_VERSION_MAJOR "${PROJECT_VERSION_MAJOR}")
        set(CPACK_PACKAGE_VERSION_MINOR "${PROJECT_VERSION_MINOR}")
        set(CPACK_PACKAGE_VERSION_PATCH "${PROJECT_VERSION_PATCH}")
        set(CPACK_PACKAGE_VERSION_TWEAK "${PROJECT_VERSION_TWEAK}")
        set(CPACK_VERBATIM_VARIABLES TRUE)
        if(LINUX)
            set(CPACK_RPM_PACKAGE_RELEASE 1)
            set(CPACK_RPM_PACKAGE_GROUP "Unspecified")
            set(CPACK_RPM_PACKAGE_LICENSE "Commercial")
            set(CPACK_DEBIAN_PACKAGE_SECTION "utils")
            set(CPACK_GENERATOR RPM DEB TGZ)
        else()
            set(CPACK_GENERATOR TGZ)
        endif()
        include(CPack)
    endif()
endif()
